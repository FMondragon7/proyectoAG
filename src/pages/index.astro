---
import Layout from '@/layouts/Layout.astro';

import MusicToggle from "@/components/MusicToggle.astro";
import Overlays from "@/components/Overlays.astro";
import WelcomeScreen from "@/components/WelcomeScreen.astro";
import { Image as AstroImage } from "astro:assets";

import image1 from "@/assets/images/image1.avif";
import image2 from "@/assets/images/image2.avif";
import image3 from "@/assets/images/image3.avif";
import image4 from "@/assets/images/image4.avif";
import image5 from "@/assets/images/image5.avif";
import image6 from "@/assets/images/image6.avif";
import image7 from "@/assets/images/image7.avif";
import aleYpau from "@/assets/images/aleYpau.avif";
import aleYnena from "@/assets/images/aleYnena.avif";
import aleYlari from "@/assets/images/aleYlari.avif";
import familia from "@/assets/images/familia.avif";
import aleYkaro1 from "@/assets/images/aleYkaro1.avif";
import aleYkaro2 from "@/assets/images/aleYkaro2.avif";
import aleYkaro3 from "@/assets/images/aleYkaro3.avif";
import amigas3 from "@/assets/images/amigas3.avif";
import amigas4 from "@/assets/images/amigas4.avif";

const mp3Src = "/Alex Warren - Ordinary (Lyrics).mp3";

// Importar todas las im√°genes para usar en el cliente
const amigasImages = {
    amigas3: amigas3.src,
    amigas4: amigas4.src
};

const aleYkaroImages = {
    aleYkaro1: aleYkaro1.src,
    aleYkaro2: aleYkaro2.src,
    aleYkaro3: aleYkaro3.src
};
---

<Layout>
	<!-- M√∫sica de fondo -->
	<audio id="backgroundMusic" loop preload="metadata">
		<source src={mp3Src} type="audio/mpeg" />
		Tu navegador no soporta el elemento de audio.
	</audio>

	<MusicToggle />

	<Overlays />

	<WelcomeScreen />

	<!-- CONTENIDO PRINCIPAL (inicialmente oculto) -->
	<div id="mainContent" class="main-content hidden">
		<main class="w-full flex flex-col items-center relative z-10">
			<!-- HERO -->
			<section class="w-full flex flex-col items-center justify-center min-h-[100vh] relative overflow-visible pt-32 pb-24">
				<h1 class="text-5xl md:text-7xl font-extrabold text-shimmer mb-6 text-center drop-shadow-lg tracking-tight hero-title text-reveal">
					Feliz Cumplea√±os 30, mi amor!
				</h1>
				<p class="text-2xl text-blue-100 mb-12 text-center hero-sub parallax-element">
					Hoy es un d√≠a muy especial porque cumple a√±os el amor de mi vida.<br/>
					Gracias por ser mi compa√±era, mi amiga, el amor de mi vida y la madre de nuestros hijos.
				</p>
				
				<AstroImage src={image3} alt="Hero" class="absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 opacity-30 w-[600px] h-[600px] object-cover pointer-events-none select-none blur-sm parallax-element" />
			</section>

			<!-- Foto 1 -->
			<div class="w-full flex items-center justify-start min-h-[80vh] relative mobile-stack">
				<AstroImage src={image1} alt="Foto 1" class="photo-fade-left photo-glow parallax-element absolute left-0 md:left-16 top-1/2 -translate-y-1/2 w-80 h-80 object-cover rounded-2xl shadow-2xl opacity-0 scale-90 z-10" />
				<div class="ml-[22rem] md:ml-[28rem] max-w-xl parallax-element text-content flex flex-col justify-center min-h-[20rem]">
					<h2 class="text-2xl md:text-3xl font-bold text-blue-200 mb-4 section-title-1 text-reveal">Mi Persona Favorita</h2>
					<p class="text-base md:text-lg text-blue-100 section-text-1">
						Siempre has sido lo que he querido y todo lo que pedia en alguien. Todo este tiempo que hemos pasado juntos me sigue confirmando
                        que eres la persona correcta con la que yo siempre he querido estar.
					</p>
				</div>
			</div>

			<!-- Foto 2 -->
			<div class="w-full flex items-center justify-end min-h-[80vh] relative mobile-stack">
				<AstroImage src={image4} alt="Foto 2" class="photo-fade-right photo-glow parallax-element absolute right-0 md:right-16 top-1/2 -translate-y-1/2 w-80 h-80 object-cover rounded-2xl shadow-2xl opacity-0 scale-90 z-10" />
				<div class="mr-[22rem] md:mr-[28rem] max-w-xl text-right parallax-element text-content flex flex-col justify-center min-h-[20rem]">
					<h2 class="text-2xl md:text-3xl font-bold text-blue-200 mb-4 section-title-2 text-reveal">Un equipo</h2>
					<p class="text-base md:text-lg text-blue-100 section-text-2">
						Hemos pasado por muchas cosas juntos, y en cada momento dif√≠cil o alegre siempre has estado a mi lado. 
						<br />
						Todo lo que enfrentamos lo hacemos como un verdadero equipo, apoy√°ndonos, aprendiendo y creciendo juntos. 
						<br />
						S√© que as√≠ seguir√° siendo, porque contigo cada reto se convierte en una oportunidad y cada d√≠a se siente m√°s especial.
					</p>
				</div>
			</div>

			<!-- Foto 3 - desde abajo (fade up) -->
            <div class="w-full flex flex-col items-center justify-center min-h-[80vh] relative px-4">
                <AstroImage src={image2} alt="Foto 3" class="photo-fade-up photo-glow parallax-element w-80 h-80 object-cover rounded-2xl shadow-2xl opacity-0 scale-90 z-10" />
                <div class="mt-8 max-w-xl text-center parallax-element px-4">
                    <h2 class="text-2xl md:text-3xl font-bold text-blue-200 mb-4 section-title-3 text-reveal">
                        Nuestra familia
                    </h2>
                    <p class="text-base md:text-lg text-blue-100 section-text-3">
                        Siempre estas a mi lado en todo, apoyandome y creeme que yo siempre estare ahi para ti en todo lo que necesites.
                        <br />
                        Gracias por darme 2 hijos hermosos, por ser una familia, los 3 te amamos mucho! üíï
                        <br />
                        Cada dia que hemos pasado juntos se siente como una aventura nueva, mas con estos 2 bebesaurios
                    </p>
                </div>
            </div>
            
            <!-- Foto 4 - desde la izquierda -->
            <div class="w-full flex items-center justify-start min-h-[80vh] relative mobile-stack">
				<div class="image-group">
					<AstroImage src={aleYlari} alt="Foto 4" class="photo-fade-left photo-glow parallax-element absolute left-0 md:left-16 top-1/2 -translate-y-1/2 w-80 h-80 object-cover rounded-2xl shadow-2xl opacity-0 scale-90 z-10 stackImg" />
					<AstroImage src={familia} alt="Foto 4.2" class="photo-fade-left photo-glow parallax-element absolute left-0 md:left-16 top-1/2 -translate-y-1/2 w-80 h-80 object-cover rounded-2xl shadow-2xl opacity-0 scale-90 z-11 image4-2 stackImg" />
					<AstroImage src={aleYnena} alt="Foto 4.3" class="photo-fade-left photo-glow parallax-element absolute left-0 md:left-16 top-1/2 -translate-y-1/2 w-80 h-80 object-cover rounded-2xl shadow-2xl opacity-0 scale-90 z-12 image4-3 stackImg aleynena-adjust" />
				</div>
                <div class="ml-[22rem] md:ml-[28rem] max-w-xl parallax-element text-content flex flex-col justify-center min-h-[20rem]">
                    <h2 class="text-2xl md:text-3xl font-bold text-blue-200 mb-4 section-title-4 text-reveal">
                        Un fin de semana especial
                    </h2>
                    <p class="text-base md:text-lg text-blue-100 section-text-4">
                        Espero que este fin de semana que pas√≥ haya sido realmente inolvidable para ti, 
						<br />
						lleno de sonrisas, abrazos y momentos que se quedar√°n en tu memoria. 
						<br />
						Me alegra saber que pudiste disfrutarlo, porque t√∫ te mereces siempre lo mejor y que cada instante est√© lleno de alegr√≠a y cari√±o.
                    </p>
                </div>
            </div>
            
            <!-- Foto 5 - desde la derecha -->
            <div class="w-full flex items-center justify-end min-h-[80vh] relative mobile-stack">
				<div class="image-group">
					<AstroImage src={amigas3} alt="Foto 5" id="random-amigas-img" class="photo-fade-right photo-glow parallax-element absolute right-0 md:right-16 top-1/2 -translate-y-1/2 w-80 h-80 rounded-2xl shadow-2xl opacity-0 scale-60 z-10 stackImg amigas-adjust" />
					<AstroImage src={aleYkaro1} alt="Foto 5.2" id="random-aleykaro-img" class="photo-fade-right photo-glow parallax-element absolute right-0 md:right-16 top-1/2 -translate-y-1/2 w-80 h-80 object-cover rounded-2xl shadow-2xl opacity-0 scale-90 z-11 image5-2 stackImg" />
					<AstroImage src={aleYpau} alt="Foto 5.3" class="photo-fade-right photo-glow parallax-element absolute right-0 md:right-16 top-1/2 -translate-y-1/2 w-80 h-80 object-cover rounded-2xl shadow-2xl opacity-0 scale-90 z-12 image5-3 stackImg" />
				</div>
                <div class="mr-[22rem] md:mr-[28rem] max-w-xl text-right parallax-element text-content flex flex-col justify-center min-h-[20rem]">
                    <h2 class="text-2xl md:text-3xl font-bold text-blue-200 mb-4 section-title-5 text-reveal">
                        Diversion
                    </h2>
                    <p class="text-base md:text-lg text-blue-100 section-text-5">
                        Ojal√° te hayas divertido much√≠simo este fin de semana, rodeada de todos tus seres queridos que hicieron todo m√°s especial solo por estar ah√≠ contigo. 
						<br />
						No hay nada m√°s bonito que ver tu sonrisa cuando disfrutas y te sientes querida, 
						<br />
						porque esa felicidad tambi√©n ilumina a quienes tenemos la suerte de compartirla contigo.
                    </p>
                </div>
            </div>
            
            <!-- Foto 6 - desde abajo (fade up) -->
            <div class="w-full flex flex-col items-center justify-center min-h-[80vh] relative px-4">
                <AstroImage src={image6} alt="Foto 6" class="photo-fade-up photo-glow parallax-element w-80 h-80 object-cover rounded-2xl shadow-2xl opacity-0 scale-90 z-10" />
                <div class="mt-8 max-w-xl text-center parallax-element px-4">
                    <h2 class="text-2xl md:text-3xl font-bold text-blue-200 mb-4 section-title-6 text-reveal">
                        Perfecta
                    </h2>
                    <p class="text-base md:text-lg text-blue-100 section-text-6">
                        Te mereces todo lo bueno que la vida tiene para darte y a√∫n mucho m√°s.
						<br /> 
						Eres una persona incre√≠ble: amable, cari√±osa, atenta y emp√°tica, alguien que siempre piensa en los dem√°s y llena de amor cada rinc√≥n donde est√°. 
						<br /> 
						Para m√≠, no hay duda: eres perfecta tal y como eres, y cada d√≠a me siento afortunado de tenerte en mi vida.
                    </p>
                </div>
            </div>

			<!-- PARALLAX FOTO -->
			<section class="w-full flex flex-col items-center justify-center min-h-[120vh] md:min-h-[140vh] relative overflow-hidden px-4" id="parallax-section">
				<div class="absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 z-0" id="parallax-container">
					<AstroImage src={image7} alt="Parallax" id="zoom-image" class="parallax-img photo-glow w-80 h-80 md:w-96 md:h-96 object-cover rounded-3xl opacity-0" />
				</div>
				<div class="relative z-10 flex flex-col items-center parallax-element px-4 mt-8 md:mt-12">
					<h2 class="text-2xl md:text-3xl lg:text-4xl font-bold text-blue-200 mb-4 md:mb-6 section-title-7 text-reveal text-center">
					Nuestra historia
					</h2>
					<p class="text-base md:text-lg lg:text-xl text-blue-100 text-center max-w-xl section-text-7">
					Eres el amor de mi vida y pronto habr√° otra sorpresa...
					</p>
				</div>
			</section>

			<!-- MENSAJE FINAL -->
			<section class="w-full flex flex-col items-center justify-center min-h-[100vh] relative px-4">
				<AstroImage src={image5} alt="Foto Final" class="photo-fade-up photo-glow parallax-element w-80 h-80 object-cover rounded-2xl shadow-2xl opacity-0 scale-90 z-10" />
				<div class="mt-8 max-w-xl text-center parallax-element">
					<p class="text-2xl md:text-3xl text-shimmer text-center font-bold mb-6 section-final text-reveal">
						¬°Te amo con todo mi coraz√≥n!
					</p>
					<p class="text-base md:text-lg text-blue-100 text-center section-final-sub parallax-element px-4 max-w-2xl">
						Espero que este regalo logre sacarte una gran sonrisa y te recuerde lo especial que eres para m√≠. 
						<br />
						No hay palabras suficientes para expresar lo importante que eres en mi vida, 
						<br />
						pero quiero que nunca olvides que te amo con todo mi coraz√≥n, hoy en tu cumplea√±os y en cada uno de nuestros d√≠as juntos.
					</p>
				</div>
			</section>
		</main>
	</div>

	<!-- Script para selecci√≥n aleatoria de im√°genes -->
	<script is:inline define:vars={{ amigasImages, aleYkaroImages }}>
		document.addEventListener('DOMContentLoaded', function() {
			// Selecci√≥n aleatoria para amigas
			const amigasKeys = Object.keys(amigasImages);
			const randomAmigasKey = amigasKeys[Math.floor(Math.random() * amigasKeys.length)];
			const randomAmigasImage = amigasImages[randomAmigasKey];
			
			// Selecci√≥n aleatoria para aleYkaro
			const aleYkaroKeys = Object.keys(aleYkaroImages);
			const randomAleYkaroKey = aleYkaroKeys[Math.floor(Math.random() * aleYkaroKeys.length)];
			const randomAleYkaroImage = aleYkaroImages[randomAleYkaroKey];

			// Aplicar las im√°genes seleccionadas
			const amigasImg = document.getElementById('random-amigas-img');
			const aleYkaroImg = document.getElementById('random-aleykaro-img');

			if (amigasImg) {
				amigasImg.src = randomAmigasImage;
				console.log('‚úÖ Imagen amigas aplicada correctamente');
			} else {
				console.log('‚ùå No se encontr√≥ elemento #random-amigas-img');
			}

			if (aleYkaroImg) {
				aleYkaroImg.src = randomAleYkaroImage;
				console.log('‚úÖ Imagen aleYkaro aplicada correctamente');
			} else {
				console.log('‚ùå No se encontr√≥ elemento #random-aleykaro-img');
			}

			console.log('üéâ Selecci√≥n aleatoria completada');
		});
	</script>
</Layout>
